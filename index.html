<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ë°•ìŠ¤í° Â· ì¤‘ê³ í° ìµœì‹ í° ë§¤ì… â€” ì „êµ­ëª¨ë°”ì¼</title>
  <meta name="description" content="ì „ì£¼Â·ë‚¨ì›Â·í•¨ì–‘ ì§€ì—­ ë°•ìŠ¤í°Â·ìµœì‹  ì¤‘ê³ í° ë§¤ì… â€” ë°©ë¬¸ ë§¤ì…, ë°ì´í„° ì™„ì „ ì‚­ì œ, ë‹¹ì¼ ì…ê¸ˆ. ì§€ê¸ˆ ì „í™”ë¡œ ê²¬ì  ë°›ìœ¼ì„¸ìš”." />
  <link rel="canonical" href="https://example.com/" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ë°•ìŠ¤í° Â· ì¤‘ê³ í° ìµœì‹ í° ë§¤ì… â€” ì „êµ­ëª¨ë°”ì¼" />
  <meta property="og:description" content="ì „ì£¼Â·ë‚¨ì›Â·í•¨ì–‘ ì§€ì—­ ë°•ìŠ¤í°Â·ìµœì‹  ì¤‘ê³ í° ë§¤ì… â€” ë°©ë¬¸ ë§¤ì…, ë°ì´í„° ì™„ì „ ì‚­ì œ, ë‹¹ì¼ ì…ê¸ˆ." />
  <meta property="og:url" content="https://example.com/" />
  <meta name="twitter:card" content="summary_large_image" />
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">

  <!-- êµ¬ì¡°í™” ë°ì´í„° -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "LocalBusiness",
    "name": "ì „êµ­ëª¨ë°”ì¼",
    "description": "ì „ì£¼Â·ë‚¨ì›Â·í•¨ì–‘ ì§€ì—­ ë°•ìŠ¤í° ë° ìµœì‹  ì¤‘ê³ í° ë§¤ì…. ë°ì´í„° ì™„ì „ ì‚­ì œ, ë°©ë¬¸ ë§¤ì…, ë‹¹ì¼ ì…ê¸ˆ.",
    "telephone": "010-8290-9536",
    "areaServed": ["ì „ë¶ ì „ì£¼","ì „ë¶ ë‚¨ì›","ê²½ë‚¨ í•¨ì–‘"],
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "ì „ë¼ë¶ë„ ë‚¨ì›ì‹œ [ìƒì„¸ì£¼ì†Œ ì…ë ¥]",
      "addressLocality": "ë‚¨ì›ì‹œ",
      "addressRegion": "ì „ë¼ë¶ë„"
    },
    "url": "https://example.com"
  }
  </script>
</head>
<body>
  <a class="skip-link" href="#main">ì»¨í…ì¸ ë¡œ ê±´ë„ˆë›°ê¸°</a>

  <header class="site-header">
    <div class="container">
      <div class="logo" aria-label="ì „êµ­ëª¨ë°”ì¼">ì „êµ­<span>ëª¨ë°”ì¼</span></div>
    </div>
  </header>

  <div class="region-bar">
    <div class="container">ğŸ“ ì „ì£¼ Â· ë‚¨ì› Â· í•¨ì–‘ ì „ ì§€ì—­ ì¶œì¥ ê°€ëŠ¥</div>
  </div>

  <main id="main" class="container" role="main" aria-labelledby="hero-title">
    <section class="hero" aria-labelledby="hero-title" aria-describedby="hero-desc">
      <h1 id="hero-title">ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í°,<br>í˜„ê¸ˆìœ¼ë¡œ ë°”ê¿”ë“œë¦½ë‹ˆë‹¤</h1>
      <p id="hero-desc">ë°•ìŠ¤í° Â· ìµœì‹  ì¤‘ê³ í° ìµœê³ ê°€ ë§¤ì… Â· ë°ì´í„° ì™„ì „ ì‚­ì œë¡œ ì•ˆì‹¬ ê±°ë˜</p>
      <a href="call.html" class="cta-button" aria-label="ì „í™”ë¡œ ê²¬ì  ë°›ê¸°">ğŸ“ ì§€ê¸ˆ ë°”ë¡œ ê²¬ì  ë°›ê¸°</a>
    </section>

    <section class="features" aria-label="ì„œë¹„ìŠ¤ íŠ¹ì§•">
      <article class="feature-item">
        <div class="icon" aria-hidden="true">ğŸ’°</div>
        <div class="text">
          <h3>ì—…ê³„ ìµœê³ ê°€ ë³´ì¥</h3>
          <p>ì „ì£¼Â·ë‚¨ì›Â·í•¨ì–‘ ì§€ì—­ ì‹œì„¸ ëŒ€ë¹„ ë†’ì€ ê°€ê²©ìœ¼ë¡œ ë§¤ì…í•©ë‹ˆë‹¤.</p>
        </div>
      </article>

      <article class="feature-item">
        <div class="icon" aria-hidden="true">ğŸ›¡ï¸</div>
        <div class="text">
          <h3>ë°ì´í„° ì™„ì „ ì‚­ì œ</h3>
          <p>ë³µêµ¬ ë¶ˆê°€ëŠ¥í•œ í¬ë Œì‹ ìˆ˜ì¤€ ì‚­ì œë¡œ ê°œì¸ì •ë³´ë¥¼ ì•ˆì „í•˜ê²Œ ë³´í˜¸í•©ë‹ˆë‹¤.</p>
        </div>
      </article>

      <article class="feature-item">
        <div class="icon" aria-hidden="true">ğŸš€</div>
        <div class="text">
          <h3>ë‹¹ì¼ í˜„ê¸ˆ ì§€ê¸‰</h3>
          <p>ê²€ìˆ˜ ì™„ë£Œ ì¦‰ì‹œ ê³ ê°ë‹˜ ê³„ì¢Œë¡œ ì…ê¸ˆí•´ë“œë¦½ë‹ˆë‹¤.</p>
        </div>
      </article>

      <article class="feature-item">
        <div class="icon" aria-hidden="true">ğŸš—</div>
        <div class="text">
          <h3>ì°¾ì•„ê°€ëŠ” ì„œë¹„ìŠ¤</h3>
          <p>ì›í•˜ì‹œë©´ ë°©ë¬¸ìˆ˜ê±°Â·ì¶œì¥ë§¤ì… ëª¨ë‘ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
        </div>
      </article>
    </section>

    <section class="process" aria-label="ë§¤ì… ì ˆì°¨">
      <h2>ë§¤ì… ì§„í–‰ ì ˆì°¨</h2>
      <div class="step">
        <span class="step-num">1</span>
        <h4>ì „í™”/ë¬¸ì ìƒë‹´</h4>
        <p>ëª¨ë¸ëª…ê³¼ ìƒíƒœë¥¼ ì•Œë ¤ì£¼ì‹œë©´ ì˜ˆìƒ ê²¬ì ì„ ë“œë¦½ë‹ˆë‹¤.</p>
      </div>
      <div class="step">
        <span class="step-num">2</span>
        <h4>ë°©ë¬¸ ë° ê²€ìˆ˜</h4>
        <p>í˜„ì¥ ë˜ëŠ” ë§¤ì¥ì—ì„œ ë¹ ë¥´ê²Œ ê²€ìˆ˜í•©ë‹ˆë‹¤.</p>
      </div>
      <div class="step">
        <span class="step-num">3</span>
        <h4>ì¦‰ì‹œ ì…ê¸ˆ</h4>
        <p>ë°ì´í„° ì‚­ì œ í™•ì¸ í›„ ì¦‰ì‹œ ì…ê¸ˆ ì²˜ë¦¬í•©ë‹ˆë‹¤.</p>
      </div>
    </section>

    <section class="gallery" aria-label="ì œí’ˆ ê°¤ëŸ¬ë¦¬">
      <h2>ì œí’ˆ ê°¤ëŸ¬ë¦¬</h2>
      <p class="gallery-intro">í´ë¦­í•˜ë©´ ê°€ê²©ì„ í¸ì§‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë³€ê²½ì‚¬í•­ì€ ë¸Œë¼ìš°ì €ì— ì €ì¥ë©ë‹ˆë‹¤.</p>
      <div id="products" class="product-grid" aria-live="polite"></div>
    </section>

  </main>

  <footer role="contentinfo">
    <div class="container">
      <p>ë¯¿ì„ ìˆ˜ ìˆëŠ” ì§€ì—­ ì „ë¬¸ ì—…ì²´</p>
      <div class="contact-box" aria-label="ë§¤ì… ë¬¸ì˜">
        <p>ë§¤ì… ë¬¸ì˜ / ì¶œì¥ ìš”ì²­</p>
          <a href="call.html" class="phone-number" aria-label="ì „í™” 010-8290-9536">010-8290-9536</a>
        <p>365ì¼ ìƒë‹´ í™˜ì˜ (ë¶€ì¬ì‹œ ë¬¸ì ì£¼ì„¸ìš”)</p>
      </div>
      <p class="meta">ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸: [ì‚¬ì—…ìë²ˆí˜¸ ì…ë ¥] Â· ì£¼ì†Œ: ì „ë¼ë¶ë„ ë‚¨ì›ì‹œ [ìƒì„¸ì£¼ì†Œ ì…ë ¥]</p>
    </div>
  </footer>
      </div>
    </footer>
  <!-- ëª¨ë°”ì¼ í•˜ë‹¨ ê³ ì • ì „í™” ë°” -->
    <div class="fixed-callbar" role="region" aria-label="ì „í™” ë¬¸ì˜">
    <div class="call-desc">ì§€ê¸ˆ ë°”ë¡œ íŒë§¤ ê²¬ì  ë°›ê¸°</div>
    <a class="call-btn" href="call.html" aria-label="ì „í™” 010-8290-9536">ğŸ“ 010-8290-9536</a>
  </div>

  <script>
    // --- UTM / tracking helper ---
    (function(){
      function parseQS(qs){
        const o={};
        if(!qs) return o;
        qs.replace(/^\?/,'').split('&').forEach(p=>{const [k,v]=p.split('='); if(k) o[decodeURIComponent(k)]=decodeURIComponent(v||'');});
        return o;
      }
      const qs = parseQS(location.search);
      // save utm params if present
      const utmKeys = ['utm_source','utm_medium','utm_campaign','utm_term','utm_content'];
      const utm = {};
      utmKeys.forEach(k=>{ if(qs[k]) utm[k]=qs[k]; });
      if(Object.keys(utm).length) localStorage.setItem('utmParams', JSON.stringify(utm));
      // apply stored utm to call links by appending as query string to call.html
      const stored = JSON.parse(localStorage.getItem('utmParams')||'{}');
      function toQS(obj){ return Object.keys(obj).map(k=>encodeURIComponent(k)+'='+encodeURIComponent(obj[k])).join('&'); }
      const qstr = toQS(stored);
      document.querySelectorAll('a[href="call.html"]').forEach(a=>{ if(qstr) a.href = 'call.html?'+qstr; });
    })();

    // simple toast for save feedback
    function showToast(msg){
      let t = document.getElementById('site-toast');
      if(!t){ t = document.createElement('div'); t.id='site-toast'; t.className='site-toast'; document.body.appendChild(t); }
      t.textContent = msg; t.classList.add('show'); setTimeout(()=>t.classList.remove('show'),1600);
    }

    // price formatting helper
    function formatPrice(v){
      if(!v || v==='ë¬¸ì˜') return 'ë¬¸ì˜';
      const n = String(v).replace(/[^0-9]/g,'');
      if(!n) return 'ë¬¸ì˜';
      return Number(n).toLocaleString('ko-KR') + 'ì›';
    }
    // ëª¨ë¸ë³„ ì´ë¯¸ì§€ ëª©ë¡ (í´ë” êµ¬ì¡°: img/<ëª¨ë¸í´ë”>/íŒŒì¼.png)
    // ì´ ë§¤í•‘ì€ í˜„ì¬ ë¡œì»¬ì˜ img í•˜ìœ„ í´ë”ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.
    const models = {
      "iPhone 15 Pro Max": { images: [
        "iPhone 15 Pro Max/iPhone 15 Pro Max-1.png",
        "iPhone 15 Pro Max/iPhone 15 Pro Max-2.png",
        "iPhone 15 Pro Max/iPhone 15 Pro Max.png"
      ]},
      "iPhone 16": { images: [
        "iPhone 16/iPhone 16-1.png",
        "iPhone 16/iPhone 16-2.png",
        "iPhone 16/iPhone 16.png"
      ]},
      "iPhone 16 Plus": { images: [
        "iPhone 16 Plus/iPhone 16 Plus-1.png",
        "iPhone 16 Plus/iPhone 16 Plus-2.png",
        "iPhone 16 Plus/iPhone 16 Plus.png"
      ]},
      "iPhone 16 Pro": { images: [
        "iPhone 16 Pro/iPhone 16 Pro-1.png",
        "iPhone 16 Pro/iPhone 16 Pro-2.png",
        "iPhone 16 Pro/iPhone 16 Pro.png"
      ]},
      "iPhone 16 Pro Max": { images: [
        "iPhone 16 Pro Max/iPhone 16 Pro Max-1.png",
        "iPhone 16 Pro Max/iPhone 16 Pro Max-2.png",
        "iPhone 16 Pro Max/iPhone 16 Pro Max.png"
      ]},
      "iPhone 16e": { images: [
        "iPhone 16e/iPhone 16e-1.png",
        "iPhone 16e/iPhone 16e-2.png",
        "iPhone 16e/iPhone 16e.png"
      ]},
      "iPhone 17": { images: [
        "iPhone 17/iPhone 17-1.png",
        "iPhone 17/iPhone 17-2.png",
        "iPhone 17/iPhone 17.png"
      ]},
      "iPhone 17 Pro": { images: [] },
      "iPhone Air": { images: [
        "iPhone Air/iPhone Air-1.png",
        "iPhone Air/iPhone Air-2.png",
        "iPhone Air/iPhone Air.png"
      ]},
      "ê°¤ëŸ­ì‹œ S23": { images: [
        "ê°¤ëŸ­ì‹œ S23/ê°¤ëŸ­ì‹œ S23-1.png",
        "ê°¤ëŸ­ì‹œ S23/ê°¤ëŸ­ì‹œ S23.png"
      ]},
      "ê°¤ëŸ­ì‹œ S23 Ultra": { images: [
        "ê°¤ëŸ­ì‹œ S23 Ultra/ê°¤ëŸ­ì‹œ S23 Ultra-1.png",
        "ê°¤ëŸ­ì‹œ S23 Ultra/ê°¤ëŸ­ì‹œ S23 Ultra.png"
      ]},
      "ê°¤ëŸ­ì‹œ S23+": { images: [
        "ê°¤ëŸ­ì‹œ S23+/ê°¤ëŸ­ì‹œ S23+-1.png",
        "ê°¤ëŸ­ì‹œ S23+/ê°¤ëŸ­ì‹œ S23+.png"
      ]},
      "ê°¤ëŸ­ì‹œ S24 FE": { images: [
        "ê°¤ëŸ­ì‹œ S24 FE/ê°¤ëŸ­ì‹œ S24 FE-1.png",
        "ê°¤ëŸ­ì‹œ S24 FE/ê°¤ëŸ­ì‹œ S24 FE.png"
      ]},
      "ê°¤ëŸ­ì‹œ S25": { images: [
        "ê°¤ëŸ­ì‹œ S25/ê°¤ëŸ­ì‹œ S25-1.png",
        "ê°¤ëŸ­ì‹œ S25/ê°¤ëŸ­ì‹œ S25.png"
      ]},
      "ê°¤ëŸ­ì‹œ S25 Edge": { images: [
        "ê°¤ëŸ­ì‹œ S25 Edge/ê°¤ëŸ­ì‹œ S25 Edge-1.png",
        "ê°¤ëŸ­ì‹œ S25 Edge/ê°¤ëŸ­ì‹œ S25 Edge.png"
      ]},
      "ê°¤ëŸ­ì‹œ S25 FE": { images: [
        "ê°¤ëŸ­ì‹œ S25 FE/ê°¤ëŸ­ì‹œ S25 FE-1.png",
        "ê°¤ëŸ­ì‹œ S25 FE/ê°¤ëŸ­ì‹œ S25 FE.png"
      ]},
      "ê°¤ëŸ­ì‹œ S25 Ultra": { images: [
        "ê°¤ëŸ­ì‹œ S25 Ultra/ê°¤ëŸ­ì‹œ S25 Ultra-1.png",
        "ê°¤ëŸ­ì‹œ S25 Ultra/ê°¤ëŸ­ì‹œ S25 Ultra.png"
      ]},
      "ê°¤ëŸ­ì‹œ S25+": { images: [
        "ê°¤ëŸ­ì‹œ S25+/ê°¤ëŸ­ì‹œ S25+-1.png",
        "ê°¤ëŸ­ì‹œ S25+/ê°¤ëŸ­ì‹œ S25+.png"
      ]},
      "ê°¤ëŸ­ì‹œ Z Flip7": { images: [
        "ê°¤ëŸ­ì‹œ Z Flip7 FE/ê°¤ëŸ­ì‹œ Z Flip7 FE-1.png",
        "ê°¤ëŸ­ì‹œ Z Flip7 FE/ê°¤ëŸ­ì‹œ Z Flip7 FE-2.png",
        "ê°¤ëŸ­ì‹œ Z Flip7 FE/ê°¤ëŸ­ì‹œ Z Flip7 FE-3.png",
        "ê°¤ëŸ­ì‹œ Z Flip7 FE/ê°¤ëŸ­ì‹œ Z Flip7 FE.png",
        "ê°¤ëŸ­ì‹œ Z Flip7 FE/ê°¤ëŸ­ì‹œ Z Flip7-1.png",
        "ê°¤ëŸ­ì‹œ Z Flip7 FE/ê°¤ëŸ­ì‹œ Z Flip7-3.png",
        "ê°¤ëŸ­ì‹œ Z Flip7 FE/ê°¤ëŸ­ì‹œ Z Flip7-4.png",
        "ê°¤ëŸ­ì‹œ Z Flip7 FE/ê°¤ëŸ­ì‹œ Z Flip7.png"
      ] },
      "ê°¤ëŸ­ì‹œ Z Flip7 FE": { images: [
        "ê°¤ëŸ­ì‹œ Z Flip7 FE/ê°¤ëŸ­ì‹œ Z Flip7 FE-1.png",
        "ê°¤ëŸ­ì‹œ Z Flip7 FE/ê°¤ëŸ­ì‹œ Z Flip7 FE-2.png",
        "ê°¤ëŸ­ì‹œ Z Flip7 FE/ê°¤ëŸ­ì‹œ Z Flip7 FE-3.png",
        "ê°¤ëŸ­ì‹œ Z Flip7 FE/ê°¤ëŸ­ì‹œ Z Flip7 FE.png",
        "ê°¤ëŸ­ì‹œ Z Flip7 FE/ê°¤ëŸ­ì‹œ Z Flip7-1.png",
        "ê°¤ëŸ­ì‹œ Z Flip7 FE/ê°¤ëŸ­ì‹œ Z Flip7-3.png",
        "ê°¤ëŸ­ì‹œ Z Flip7 FE/ê°¤ëŸ­ì‹œ Z Flip7-4.png",
        "ê°¤ëŸ­ì‹œ Z Flip7 FE/ê°¤ëŸ­ì‹œ Z Flip7.png"
      ]},
      "ê°¤ëŸ­ì‹œ Z Fold7": { images: [
        "ê°¤ëŸ­ì‹œ Z Fold7/ê°¤ëŸ­ì‹œ Z Fold7-1.png",
        "ê°¤ëŸ­ì‹œ Z Fold7/ê°¤ëŸ­ì‹œ Z Fold7-2.png",
        "ê°¤ëŸ­ì‹œ Z Fold7/ê°¤ëŸ­ì‹œ Z Fold7.png",
        "ê°¤ëŸ­ì‹œ Z Fold7/ì‹¤ë²„ iPhone 17 Pro.png",
        "ê°¤ëŸ­ì‹œ Z Fold7/ì‹¤ë²„ iPhone 17-1 Pro.png",
        "ê°¤ëŸ­ì‹œ Z Fold7/ì‹¤ë²„ iPhone 17-2 Pro.png",
        "ê°¤ëŸ­ì‹œ Z Fold7/ì˜¤ë Œì§€ iPhone 17 Pro.png",
        "ê°¤ëŸ­ì‹œ Z Fold7/ì˜¤ë Œì§€ iPhone 17-1 Pro.png",
        "ê°¤ëŸ­ì‹œ Z Fold7/ì˜¤ë Œì§€ iPhone 17-2 Pro.png"
      ]}
    };

    // Load saved prices from localStorage
    function loadPrices(){
      try{ return JSON.parse(localStorage.getItem('buyPrices') || '{}'); }catch(e){return{}}
    }
    function savePrices(obj){ localStorage.setItem('buyPrices', JSON.stringify(obj)); }

    const saved = loadPrices();

    const productsEl = document.getElementById('products');

    // Create product cards
    Object.keys(models).forEach(modelName => {
      const images = models[modelName].images;
      const card = document.createElement('article');
      card.className = 'product-card';

      const imgWrap = document.createElement('div'); imgWrap.className = 'product-image';
      const img = document.createElement('img');
      if(images && images.length && images[0]){
        img.src = 'img/' + encodeURIComponent(images[0]).replace(/%2F/g, '/');
        img.alt = modelName;
      } else {
        // simple inline SVG placeholder
        const svg = encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="320" height="200"><rect width="100%" height="100%" fill="#f3f4f6"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="#9ca3af" font-size="16">ì´ë¯¸ì§€ ì—†ìŒ</text></svg>');
        img.src = 'data:image/svg+xml;utf8,' + svg;
        img.alt = modelName + ' ì´ë¯¸ì§€ ì—†ìŒ';
      }
      img.loading = 'lazy';
      imgWrap.appendChild(img);

      // Thumbnail strip inside card
      const thumbs = document.createElement('div'); thumbs.className = 'thumbs';
      if(images && images.length){
        images.forEach((p, idx) => {
          const t = document.createElement('button'); t.className='thumb'; t.type='button';
          const ti = document.createElement('img');
          ti.src = 'img/' + encodeURIComponent(p).replace(/%2F/g, '/');
          ti.loading = 'lazy';
          ti.alt = modelName + ' ì¸ë„¤ì¼ ' + (idx+1);
          t.appendChild(ti);
          t.addEventListener('click', ()=>{
            img.src = ti.src; // switch main image
          });
          // open lightbox on middle-click or double-click
          t.addEventListener('dblclick', ()=> openLightbox(images, idx));
          thumbs.appendChild(t);
        });
      }
      imgWrap.appendChild(thumbs);

      const body = document.createElement('div'); body.className = 'product-body';
      const h3 = document.createElement('h3'); h3.textContent = modelName;

      const priceUsed = document.createElement('div'); priceUsed.className = 'price-row';
      priceUsed.innerHTML = `<span class="label">ì¤‘ê³  ë§¤ì…ê°€</span><span class="value">${formatPrice(saved[modelName]?.used || 'ë¬¸ì˜')}</span>`;

      const priceBox = document.createElement('div'); priceBox.className = 'price-row';
      priceBox.innerHTML = `<span class="label">ë°•ìŠ¤í° ë§¤ì…ê°€</span><span class="value">${formatPrice(saved[modelName]?.box || 'ë¬¸ì˜')}</span>`;

      const controls = document.createElement('div'); controls.className = 'price-controls';
      const editBtn = document.createElement('button'); editBtn.className = 'btn edit'; editBtn.textContent = 'í¸ì§‘';
      const saveBtn = document.createElement('button'); saveBtn.className = 'btn save'; saveBtn.textContent = 'ì €ì¥'; saveBtn.style.display='none';
      const cancelBtn = document.createElement('button'); cancelBtn.className='btn cancel'; cancelBtn.textContent='ì·¨ì†Œ'; cancelBtn.style.display='none';

      // Inputs for editing
      const inputUsed = document.createElement('input'); inputUsed.className='price-input'; inputUsed.placeholder='ì˜ˆ: 120,000'; inputUsed.style.display='none';
      const inputBox = document.createElement('input'); inputBox.className='price-input'; inputBox.placeholder='ì˜ˆ: 90,000'; inputBox.style.display='none';

      controls.appendChild(editBtn); controls.appendChild(saveBtn); controls.appendChild(cancelBtn);

      body.appendChild(h3);
      body.appendChild(priceUsed);
      body.appendChild(priceBox);
      body.appendChild(inputUsed);
      body.appendChild(inputBox);
      body.appendChild(controls);

      card.appendChild(imgWrap);
      card.appendChild(body);
      productsEl.appendChild(card);

      // main image click opens lightbox
      img.addEventListener('click', ()=> openLightbox(images,0));

      editBtn.addEventListener('click', ()=>{
        inputUsed.style.display='block'; inputBox.style.display='block';
        inputUsed.value = saved[modelName]?.used ? saved[modelName].used.replace(/[^0-9]/g,'') : '';
        inputBox.value = saved[modelName]?.box ? saved[modelName].box.replace(/[^0-9]/g,'') : '';
        editBtn.style.display='none'; saveBtn.style.display='inline-block'; cancelBtn.style.display='inline-block';
      });
      cancelBtn.addEventListener('click', ()=>{
        inputUsed.style.display='none'; inputBox.style.display='none';
        editBtn.style.display='inline-block'; saveBtn.style.display='none'; cancelBtn.style.display='none';
      });
      saveBtn.addEventListener('click', ()=>{
        const usedRaw = inputUsed.value.trim() || '';
        const boxRaw = inputBox.value.trim() || '';
        const used = usedRaw ? formatPrice(usedRaw) : 'ë¬¸ì˜';
        const box = boxRaw ? formatPrice(boxRaw) : 'ë¬¸ì˜';
        const all = loadPrices(); all[modelName] = { used, box }; savePrices(all);
        priceUsed.querySelector('.value').textContent = used;
        priceBox.querySelector('.value').textContent = box;
        showToast('ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤');
        cancelBtn.click();
      });
    });

    // --- Lightbox implementation ---
    // create lightbox element
    const lb = document.createElement('div'); lb.className='lightbox'; lb.id='lightbox';
    lb.innerHTML = `
      <div class="lb-content">
        <button class="lb-close" aria-label="ë‹«ê¸°">âœ•</button>
        <button class="lb-prev" aria-label="ì´ì „">â€¹</button>
        <div class="lb-image-wrap"><img class="lb-image" alt="í™•ëŒ€ ì´ë¯¸ì§€" loading="lazy"></div>
        <div class="lb-counter" aria-live="polite"></div>
        <button class="lb-next" aria-label="ë‹¤ìŒ">â€º</button>
        <div class="lb-thumbs"></div>
      </div>`;
    document.body.appendChild(lb);

    const lbEl = document.getElementById('lightbox');
    const lbImage = lbEl.querySelector('.lb-image');
    const lbThumbs = lbEl.querySelector('.lb-thumbs');
    const lbPrev = lbEl.querySelector('.lb-prev');
    const lbNext = lbEl.querySelector('.lb-next');
    const lbClose = lbEl.querySelector('.lb-close');

    let lbImages = [];
    let lbIndex = 0;

    function openLightbox(imagesArr, start=0){
      lbImages = imagesArr || [];
      if(!lbImages.length) return;
      lbIndex = start || 0;
      renderLightbox();
      lbEl.classList.add('open');
      document.body.style.overflow='hidden';
    }
    function closeLightbox(){ lbEl.classList.remove('open'); document.body.style.overflow=''; }
    function renderLightbox(){
      lbImage.src = 'img/' + encodeURIComponent(lbImages[lbIndex]).replace(/%2F/g, '/');
      lbImage.loading = 'lazy';
      const counter = lbEl.querySelector('.lb-counter'); if(counter) counter.textContent = (lbIndex+1) + ' / ' + lbImages.length;
      // thumbs
      lbThumbs.innerHTML='';
      lbImages.forEach((p,i)=>{
        const t = document.createElement('button'); t.className='thumb'; t.type='button';
        const ti = document.createElement('img'); ti.src = 'img/' + encodeURIComponent(p).replace(/%2F/g, '/'); ti.loading='lazy';
        ti.alt = 'thumb '+(i+1);
        if(i===lbIndex) t.style.outline='3px solid var(--brand-pink)';
        t.appendChild(ti);
        t.addEventListener('click', ()=>{ lbIndex=i; renderLightbox(); });
        lbThumbs.appendChild(t);
      });
    }

    lbPrev.addEventListener('click', ()=>{ lbIndex = (lbIndex-1+lbImages.length)%lbImages.length; renderLightbox(); });
    lbNext.addEventListener('click', ()=>{ lbIndex = (lbIndex+1)%lbImages.length; renderLightbox(); });
    lbClose.addEventListener('click', closeLightbox);
    lbEl.addEventListener('click',(e)=>{ if(e.target===lbEl) closeLightbox(); });

  </script>
</body>
</html>
